{% extends 'base.html' %}

{% load humanize %}

{% block content %}

<style>
  .search-container {
    background: linear-gradient(to right, rgb(214,194,236), rgb(168, 157, 180));
    box-shadow: 5px 3px 20px gray;
    border-radius: 15px !important;
  }
  .display-5, .col-md-8 {
    color: rgb(117, 92, 187) !important;
    font-family: cursive;
  }
  .list-of-jobs {
    background: linear-gradient(60deg, rgb(214,194,236), rgb(168, 157, 180));
    box-shadow: 3px 3px 0 gray;
  }
  .card-title {
    font-weight: 700;
  }
  .form-fields, label {
    font-family: cursive;
    color: rgb(71, 6, 97);
  }
  .btn {
    background-color: rgb(253, 175, 74);
    box-shadow: 3px 3px 10px gray;
    font-weight: 500;
    font-family: cursive;
  }
  .card-footer {
    box-shadow: 3px 3px 5px gray;
  }
  .text-muted {
    font-weight: 500 !important;
  }
</style>

<div class="row row-cols-1 row-cols-md-3 g-4">
  {% if jobs %}
  {% for job in jobs %}
  <div class="col">

      <div class="card h-100 shadow bg-light rounded">

          <div class="card-body list-of-jobs">
              <h5 class="card-title">{{job.title}}</h5>
              <p class="card-text"><span class="form-fields">Job Location:</span> {{job.location}}</p>
              <p class="card-text"><span class="form-fields">Experience:</span> {{job.min_experience}}-{{job.max_experience}}</p>
              <p class="card-text"><span class="form-fields">Salary:</span> {{job.salary|intcomma}}</p>
              <p class="card-text"><span class="form-fields">Posted by:</span> {{job.company}}</p>
              {% if request.user.is_authenticated %}
              <a href="{% url 'job-details' job.pk %}" class="btn">View details</a>
              {% else %}
              <a href="{% url 'login' %}" class="btn">View details</a>
              {% endif %}

          </div>
          
          <div class="card-footer">
              <small class="text-muted">Created {{job.timestamp |naturaltime}}</small>
          </div>
          
      </div>

  </div>
  {% endfor %}
  {% else %}
  <p>No jobs found.</p>
  {% endif %}
</div>

{% endblock content %}
